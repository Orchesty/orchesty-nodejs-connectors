import { AUTHORIZATION_FORM } from '@orchesty/nodejs-sdk/dist/lib/Application/Base/AApplication';
import { ApplicationInstall } from '@orchesty/nodejs-sdk/dist/lib/Application/Database/ApplicationInstall';
import Field from '@orchesty/nodejs-sdk/dist/lib/Application/Model/Form/Field';
import FieldType from '@orchesty/nodejs-sdk/dist/lib/Application/Model/Form/FieldType';
import Form from '@orchesty/nodejs-sdk/dist/lib/Application/Model/Form/Form';
import FormStack from '@orchesty/nodejs-sdk/dist/lib/Application/Model/Form/FormStack';
import AOAuth2Application from '@orchesty/nodejs-sdk/dist/lib/Authorization/Type/OAuth2/AOAuth2Application';
import { CLIENT_ID, CLIENT_SECRET } from '@orchesty/nodejs-sdk/dist/lib/Authorization/Type/OAuth2/IOAuth2Application';
import RequestDto from '@orchesty/nodejs-sdk/dist/lib/Transport/Curl/RequestDto';
import { HttpMethods, parseHttpMethod } from '@orchesty/nodejs-sdk/dist/lib/Transport/HttpMethods';
import AProcessDto from '@orchesty/nodejs-sdk/dist/lib/Utils/AProcessDto';
import { CommonHeaders, JSON_TYPE } from '@orchesty/nodejs-sdk/dist/lib/Utils/Headers';
import { BodyInit } from 'node-fetch';

export const INSTANCE_NAME = 'instance_name';

export const NAME = 'salesforce';

const SALES_URL = 'https://login.salesforce.com/services/oauth2/authorize';
const TOKEN_URL = 'https://login.salesforce.com/services/oauth2/token';

export default class SalesForceApplication extends AOAuth2Application {

    public getDescription(): string {
        return 'Cloud-based email infrastructure relieves businesses of the cost and complexity of maintaining email systems';
    }

    public getName(): string {
        return NAME;
    }

    public getPublicName(): string {
        return 'Salesforce';
    }

    public getLogo(): string {
        return 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIKCSBpZD0iVnJzdHZhXzEiIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIKCSBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDAgMTAwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbHRlcjp1cmwoI0Fkb2JlX09wYWNpdHlNYXNrRmlsdGVyKTt9Cgkuc3Qxe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZGRkZGRjt9Cgkuc3Qye21hc2s6dXJsKCNiXzFfKTtmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiMwMEExRTA7fQoJLnN0M3tmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiNGRkZGRkU7fQo8L3N0eWxlPgo8ZGVzYz5BIGNsb3VkIGNvbXB1dGluZyBjb21wYW55IGJhc2VkIGluIFNhbiBGcmFuY2lzY28sIENhbGlmb3JuaWEsIFVuaXRlZCBTdGF0ZXM8L2Rlc2M+CjxnPgoJPGRlZnM+CgkJPGZpbHRlciBpZD0iQWRvYmVfT3BhY2l0eU1hc2tGaWx0ZXIiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeD0iMC4xIiB5PSIxNSIgd2lkdGg9Ijk5LjkiIGhlaWdodD0iNjkuOSI+CgkJCTxmZUNvbG9yTWF0cml4ICB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMSAwIDAgMCAwICAwIDEgMCAwIDAgIDAgMCAxIDAgMCAgMCAwIDAgMSAwIi8+CgkJPC9maWx0ZXI+Cgk8L2RlZnM+Cgk8bWFzayBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwLjEiIHk9IjE1IiB3aWR0aD0iOTkuOSIgaGVpZ2h0PSI2OS45IiBpZD0iYl8xXyI+CgkJPGcgY2xhc3M9InN0MCI+CgkJCTxwYXRoIGlkPSJhXzFfIiBjbGFzcz0ic3QxIiBkPSJNMC4yLDE1bDk5LjgsMGwwLDY5LjdsLTk5LjgsMEwwLjIsMTV6Ii8+CgkJPC9nPgoJPC9tYXNrPgoJPHBhdGggY2xhc3M9InN0MiIgZD0iTTQxLjYsMjIuNmMzLjItMy40LDcuNy01LjQsMTIuNy01LjRjNi42LDAsMTIuMywzLjcsMTUuNCw5LjFjMi43LTEuMiw1LjctMS45LDguNy0xLjkKCQljMTEuOSwwLDIxLjUsOS43LDIxLjUsMjEuN3MtOS42LDIxLjctMjEuNSwyMS43Yy0xLjUsMC0yLjktMC4xLTQuMy0wLjRjLTIuNyw0LjgtNy45LDguMS0xMy43LDguMWMtMi40LDAtNC43LTAuNS02LjktMS42CgkJYy0yLjcsNi40LTkuMSwxMC45LTE2LjUsMTAuOWMtNy43LDAtMTQuMy00LjktMTYuOC0xMS43Yy0xLjEsMC4yLTIuMywwLjQtMy40LDAuNEM3LjUsNzMuNSwwLjEsNjYsMC4xLDU2LjcKCQljMC02LjIsMy40LTExLjcsOC4zLTE0LjZjLTEuMS0yLjQtMS42LTUuMS0xLjYtNy43QzYuOCwyMy43LDE1LjUsMTUsMjYuMiwxNUMzMi41LDE1LDM4LjEsMTgsNDEuNiwyMi42Ii8+Cgk8cGF0aCBjbGFzcz0ic3QzIiBkPSJNMTQuNiw1MS4yYy0wLjEsMC4yLDAsMC4yLDAsMC4yYzAuMiwwLjEsMC40LDAuMiwwLjYsMC4zYzEsMC41LDIsMC43LDMsMC43YzIsMCwzLjMtMS4xLDMuMy0yLjhsMCwwCgkJYzAtMS42LTEuNC0yLjItMi44LTIuNmwtMC4yLTAuMWMtMS0wLjMtMS45LTAuNi0xLjktMS4zbDAsMGMwLTAuNiwwLjUtMSwxLjMtMWMwLjksMCwxLjksMC4zLDIuNiwwLjdjMCwwLDAuMiwwLjEsMC4zLTAuMQoJCWMwLTAuMSwwLjQtMSwwLjQtMS4xYzAtMC4xLDAtMC4yLTAuMS0wLjJjLTAuOC0wLjUtMS44LTAuOC0yLjktMC44bC0wLjIsMGMtMS45LDAtMy4yLDEuMS0zLjIsMi44bDAsMGMwLDEuNywxLjQsMi4zLDIuOCwyLjcKCQlsMC4yLDAuMWMxLDAuMywxLjgsMC42LDEuOCwxLjNsMCwwYzAsMC42LTAuNiwxLjEtMS40LDEuMWMtMC4zLDAtMS40LDAtMi42LTAuOGMtMC4xLTAuMS0wLjItMC4xLTAuMy0wLjJjLTAuMSwwLTAuMi0wLjEtMC4zLDAuMQoJCUwxNC42LDUxLjIgTTQ0LjYsNTEuMmMtMC4xLDAuMiwwLDAuMiwwLDAuMmMwLjIsMC4xLDAuNCwwLjIsMC42LDAuM2MxLDAuNSwyLDAuNywzLDAuN2MyLDAsMy4zLTEuMSwzLjMtMi44bDAsMAoJCWMwLTEuNi0xLjQtMi4yLTIuOC0yLjZsLTAuMi0wLjFjLTEtMC4zLTEuOS0wLjYtMS45LTEuM2wwLDBjMC0wLjYsMC41LTEsMS4zLTFjMC45LDAsMS45LDAuMywyLjYsMC43YzAsMCwwLjIsMC4xLDAuMy0wLjEKCQljMC0wLjEsMC40LTEsMC40LTEuMWMwLTAuMSwwLTAuMi0wLjEtMC4yYy0wLjgtMC41LTEuOC0wLjgtMi45LTAuOGwtMC4yLDBjLTEuOSwwLTMuMiwxLjEtMy4yLDIuOGwwLDBjMCwxLjcsMS40LDIuMywyLjgsMi43CgkJbDAuMiwwLjFjMSwwLjMsMS44LDAuNiwxLjgsMS4zbDAsMGMwLDAuNi0wLjYsMS4xLTEuNCwxLjFjLTAuMywwLTEuNCwwLTIuNi0wLjhjLTAuMS0wLjEtMC4yLTAuMS0wLjMtMC4yYzAsMC0wLjItMC4xLTAuMywwLjEKCQlMNDQuNiw1MS4yIE02NS4xLDQ3LjhjMCwxLTAuMiwxLjgtMC41LDIuM2MtMC40LDAuNS0wLjksMC44LTEuNywwLjhjLTAuOCwwLTEuMy0wLjMtMS43LTAuOGMtMC40LTAuNi0wLjUtMS4zLTAuNS0yLjMKCQljMC0xLDAuMi0xLjgsMC41LTIuM2MwLjQtMC41LDAuOS0wLjgsMS43LTAuOGMwLjgsMCwxLjMsMC4zLDEuNywwLjhDNjQuOSw0Niw2NS4xLDQ2LjgsNjUuMSw0Ny44IE02Ni44LDQ2CgkJYy0wLjItMC42LTAuNC0xLjEtMC44LTEuNWMtMC4zLTAuNC0wLjgtMC44LTEuMy0xYy0wLjUtMC4yLTEuMS0wLjQtMS44LTAuNGMtMC43LDAtMS4zLDAuMS0xLjgsMC40Yy0wLjUsMC4yLTEsMC42LTEuMywxCgkJYy0wLjMsMC40LTAuNiwwLjktMC44LDEuNWMtMC4yLDAuNi0wLjMsMS4yLTAuMywxLjhjMCwwLjcsMC4xLDEuMywwLjMsMS44YzAuMiwwLjYsMC40LDEuMSwwLjgsMS41YzAuMywwLjQsMC44LDAuOCwxLjMsMQoJCWMwLjUsMC4yLDEuMSwwLjQsMS44LDAuNGMwLjcsMCwxLjMtMC4xLDEuOC0wLjRjMC41LTAuMiwxLTAuNiwxLjMtMWMwLjMtMC40LDAuNi0wLjksMC44LTEuNWMwLjItMC42LDAuMy0xLjIsMC4zLTEuOAoJCUM2Nyw0Ny4xLDY2LjksNDYuNSw2Ni44LDQ2IE04MC44LDUwLjZjLTAuMS0wLjItMC4yLTAuMS0wLjItMC4xYy0wLjIsMC4xLTAuNSwwLjItMC44LDAuMmMtMC4zLDAtMC42LDAuMS0wLjksMC4xCgkJYy0wLjgsMC0xLjUtMC4yLTItMC43Yy0wLjUtMC41LTAuNy0xLjMtMC43LTIuM2MwLTEsMC4yLTEuNywwLjctMi4zYzAuNC0wLjYsMS4xLTAuOCwxLjktMC44YzAuNywwLDEuMiwwLjEsMS44LDAuMwoJCWMwLDAsMC4xLDAuMSwwLjItMC4xYzAuMS0wLjQsMC4zLTAuNywwLjQtMS4yYzAtMC4xLTAuMS0wLjItMC4xLTAuMmMtMC4yLTAuMS0wLjctMC4yLTEuMS0wLjNjLTAuNC0wLjEtMC44LTAuMS0xLjMtMC4xCgkJYy0wLjcsMC0xLjQsMC4xLTEuOSwwLjRjLTAuNSwwLjItMSwwLjYtMS40LDFjLTAuNCwwLjQtMC42LDAuOS0wLjgsMS41Yy0wLjIsMC42LTAuMywxLjItMC4zLDEuOGMwLDEuNCwwLjQsMi42LDEuMSwzLjQKCQljMC44LDAuOCwxLjksMS4zLDMuNCwxLjNjMC45LDAsMS44LTAuMiwyLjQtMC40YzAsMCwwLjEtMC4xLDAuMS0wLjJMODAuOCw1MC42IE04My44LDQ2LjhjMC4xLTAuNiwwLjItMSwwLjUtMS40CgkJYzAuNC0wLjUsMC45LTAuOCwxLjctMC44YzAuOCwwLDEuMywwLjMsMS42LDAuOGMwLjIsMC40LDAuMywwLjgsMC40LDEuNEw4My44LDQ2LjhMODMuOCw0Ni44eiBNODkuNiw0NS42CgkJYy0wLjEtMC41LTAuNS0xLjEtMC43LTEuNGMtMC40LTAuNC0wLjctMC43LTEuMS0wLjhjLTAuNS0wLjItMS4xLTAuMy0xLjctMC4zYy0wLjcsMC0xLjQsMC4xLTEuOSwwLjRjLTAuNSwwLjMtMSwwLjYtMS4zLDEKCQljLTAuNCwwLjQtMC42LDAuOS0wLjgsMS41Yy0wLjIsMC42LTAuMywxLjItMC4zLDEuOGMwLDAuNywwLjEsMS4zLDAuMywxLjhjMC4yLDAuNiwwLjUsMS4xLDAuOCwxLjVjMC40LDAuNCwwLjksMC43LDEuNSwxCgkJYzAuNiwwLjIsMS4zLDAuMywyLjEsMC4zYzEuNywwLDIuNi0wLjQsMi45LTAuNmMwLjEsMCwwLjEtMC4xLDAtMC4zTDg5LDUwLjVjLTAuMS0wLjItMC4yLTAuMS0wLjItMC4xYy0wLjQsMC4yLTEsMC40LTIuNCwwLjQKCQljLTAuOSwwLTEuNi0wLjMtMi0wLjdjLTAuNC0wLjQtMC42LTEtMC43LTEuOWw1LjgsMGMwLDAsMC4yLDAsMC4yLTAuMkM4OS44LDQ4LDkwLDQ2LjksODkuNiw0NS42TDg5LjYsNDUuNnogTTM3LjUsNDYuOAoJCWMwLjEtMC42LDAuMi0xLDAuNS0xLjRjMC40LTAuNSwwLjktMC44LDEuNy0wLjhjMC44LDAsMS4zLDAuMywxLjYsMC44YzAuMiwwLjQsMC4zLDAuOCwwLjQsMS40TDM3LjUsNDYuOEwzNy41LDQ2Ljh6IE00My4yLDQ1LjYKCQljLTAuMS0wLjUtMC41LTEuMS0wLjctMS40Yy0wLjQtMC40LTAuNy0wLjctMS4xLTAuOGMtMC41LTAuMi0xLjEtMC4zLTEuNy0wLjNjLTAuNywwLTEuNCwwLjEtMS45LDAuNGMtMC41LDAuMy0xLDAuNi0xLjMsMQoJCWMtMC40LDAuNC0wLjYsMC45LTAuOCwxLjVjLTAuMiwwLjYtMC4zLDEuMi0wLjMsMS44YzAsMC43LDAuMSwxLjMsMC4zLDEuOGMwLjIsMC42LDAuNSwxLjEsMC44LDEuNWMwLjQsMC40LDAuOSwwLjcsMS41LDEKCQljMC42LDAuMiwxLjMsMC4zLDIuMSwwLjNjMS43LDAsMi42LTAuNCwyLjktMC42YzAuMSwwLDAuMS0wLjEsMC0wLjNsLTAuNC0xLjFjLTAuMS0wLjItMC4yLTAuMS0wLjItMC4xYy0wLjQsMC4yLTEsMC40LTIuNCwwLjQKCQljLTAuOSwwLTEuNi0wLjMtMi0wLjdjLTAuNC0wLjQtMC42LTEtMC43LTEuOWw1LjgsMGMwLDAsMC4yLDAsMC4yLTAuMkM0My40LDQ4LjEsNDMuNiw0Ni45LDQzLjIsNDUuNkw0My4yLDQ1LjZ6IE0yNSw1MC42CgkJYy0wLjItMC4yLTAuMy0wLjItMC4zLTAuM2MtMC4xLTAuMi0wLjItMC40LTAuMi0wLjhjMC0wLjUsMC4yLTAuOSwwLjUtMS4xYzAsMCwwLjUtMC40LDEuNy0wLjRjMC41LDAsMS4xLDAuMSwxLjYsMC4xbDAsMi42aDAKCQljMCwwLTAuNywwLjItMS42LDAuMkMyNS41LDUxLDI1LDUwLjYsMjUsNTAuNkwyNSw1MC42eiBNMjcuMyw0Ni41Yy0wLjIsMC0wLjUsMC0wLjksMGMtMC41LDAtMSwwLjEtMS40LDAuMgoJCWMtMC41LDAuMS0wLjksMC4zLTEuMiwwLjZjLTAuMywwLjItMC42LDAuNi0wLjgsMWMtMC4yLDAuNC0wLjMsMC44LTAuMywxLjNjMCwwLjUsMC4xLDEsMC4zLDEuM2MwLjIsMC40LDAuNCwwLjcsMC44LDAuOQoJCWMwLjMsMC4yLDAuNywwLjQsMS4yLDAuNWMwLjUsMC4xLDEsMC4yLDEuNSwwLjJjMC42LDAsMS4yLTAuMSwxLjgtMC4xYzAuNS0wLjEsMS0wLjIsMS41LTAuM2MwLjIsMCwwLjQtMC4xLDAuNC0wLjEKCQljMC4xLDAsMC4xLTAuMiwwLjEtMC4ybDAtNS4zYzAtMS4yLTAuMy0yLTAuOS0yLjZjLTAuNi0wLjUtMS41LTAuOC0yLjctMC44Yy0wLjQsMC0xLjEsMC4xLTEuNiwwLjFjMCwwLTEuMywwLjItMS44LDAuNwoJCWMwLDAtMC4xLDAuMS0wLjEsMC4ybDAuNCwxLjFjMC4xLDAuMSwwLjIsMC4xLDAuMiwwLjFzMCwwLDAuMSwwYzEuMS0wLjYsMi41LTAuNiwyLjUtMC42YzAuNiwwLDEuMSwwLjEsMS40LDAuNAoJCWMwLjMsMC4yLDAuNSwwLjYsMC41LDEuNGwwLDAuMkMyNy43LDQ2LjYsMjcuMyw0Ni42LDI3LjMsNDYuNUwyNy4zLDQ2LjV6IE03My45LDQzLjZjMC0wLjEsMC0wLjItMC4xLTAuMmMwLDAsMCwwLDAsMAoJCWMtMC4xLDAtMC42LTAuMS0xLTAuMmMtMC43LDAtMS4xLDAuMS0xLjUsMC4yYy0wLjQsMC4yLTAuOCwwLjQtMSwwLjdsMC0wLjdjMC0wLjEtMC4xLTAuMi0wLjItMC4ybC0xLjUsMGMtMC4xLDAtMC4yLDAuMS0wLjIsMC4yCgkJbDAsOC42YzAsMC4xLDAuMSwwLjIsMC4yLDAuMmwxLjUsMGMwLjEsMCwwLjItMC4xLDAuMi0wLjJsMC00LjNjMC0wLjYsMC4xLTEuMiwwLjItMS41YzAuMS0wLjQsMC4zLTAuNiwwLjUtMC45CgkJYzAuMi0wLjIsMC40LTAuMywwLjctMC40YzAuMy0wLjEsMC41LTAuMSwwLjgtMC4xYzAuMywwLDAuNiwwLjEsMC42LDAuMWMwLjEsMCwwLjItMC4xLDAuMi0wLjJDNzMuNSw0NC41LDczLjgsNDMuNyw3My45LDQzLjYiLz4KCTxwYXRoIGNsYXNzPSJzdDMiIGQ9Ik01OS43LDM5LjZjLTAuMi0wLjEtMC40LTAuMS0wLjYtMC4xYy0wLjMsMC0wLjUtMC4xLTAuOC0wLjFjLTEsMC0xLjksMC4zLTIuNSwwLjljLTAuNiwwLjYtMSwxLjUtMS4yLDIuNgoJCWwtMC4xLDAuNGwtMS4zLDBjMCwwLTAuMiwwLTAuMiwwLjJsLTAuMiwxLjJjMCwwLjEsMCwwLjIsMC4yLDAuMmwxLjMsMGwtMS4zLDcuMmMtMC4xLDAuNi0wLjIsMS4xLTAuMywxLjQKCQljLTAuMSwwLjQtMC4zLDAuNi0wLjQsMC44Yy0wLjEsMC4yLTAuMywwLjMtMC41LDAuNGMtMC4yLDAuMS0wLjQsMC4xLTAuNywwLjFjLTAuMSwwLTAuMywwLTAuNS0wLjFjLTAuMSwwLTAuMi0wLjEtMC4zLTAuMQoJCWMwLDAtMC4yLTAuMS0wLjIsMC4xYzAsMC4xLTAuNCwxLjEtMC40LDEuMmMwLDAuMSwwLDAuMiwwLjEsMC4yYzAuMiwwLjEsMC4zLDAuMSwwLjUsMC4yYzAuMywwLjEsMC42LDAuMSwwLjgsMC4xCgkJYzAuNSwwLDEtMC4xLDEuNC0wLjJjMC40LTAuMSwwLjgtMC40LDEuMS0wLjdjMC4zLTAuNCwwLjUtMC44LDAuOC0xLjNjMC4yLTAuNSwwLjQtMS4yLDAuNS0xLjlsMS4zLTcuNGwxLjksMGMwLDAsMC4yLDAsMC4yLTAuMgoJCWwwLjItMS4yYzAtMC4xLDAtMC4yLTAuMi0wLjJsLTEuOSwwYzAsMCwwLjEtMC43LDAuMy0xLjNjMC4xLTAuMywwLjMtMC41LDAuNC0wLjZjMC4xLTAuMSwwLjMtMC4yLDAuNS0wLjMKCQljMC4yLTAuMSwwLjQtMC4xLDAuNi0wLjFjMC4yLDAsMC4zLDAsMC41LDBjMC4yLDAsMC4yLDAuMSwwLjMsMC4xYzAuMiwwLjEsMC4yLDAsMC4zLTAuMWwwLjQtMS4yQzU5LjgsMzkuNyw1OS43LDM5LjYsNTkuNywzOS42CgkJIE0zMy44LDUyLjFjMCwwLjEtMC4xLDAuMi0wLjIsMC4ybC0xLjUsMGMtMC4xLDAtMC4yLTAuMS0wLjItMC4ybDAtMTIuNGMwLTAuMSwwLjEtMC4yLDAuMi0wLjJsMS41LDBjMC4xLDAsMC4yLDAuMSwwLjIsMC4yCgkJTDMzLjgsNTIuMSIvPgo8L2c+Cjwvc3ZnPgo=';
    }

    public getRequestDto(
        dto: AProcessDto,
        applicationInstall: ApplicationInstall,
        method: HttpMethods,
        _url?: string,
        data?: BodyInit,
    ): Promise<RequestDto> | RequestDto {
        const domain = applicationInstall.getSettings()[AUTHORIZATION_FORM][INSTANCE_NAME];

        const url = `https://${domain}.my.salesforce.com/services/data/v55.0/sobjects${_url}`;

        const request = new RequestDto(url ?? '', parseHttpMethod(method), dto);
        request.setHeaders({
            [CommonHeaders.ACCEPT]: JSON_TYPE,
            [CommonHeaders.CONTENT_TYPE]: JSON_TYPE,
            [CommonHeaders.AUTHORIZATION]: `Bearer ${this.getAccessToken(applicationInstall)}`,
        });

        if (data) {
            request.setJsonBody(data);
        }

        return request;
    }

    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    public getScopes(applicationInstall: ApplicationInstall): string[] {
        return [];
    }

    public getFormStack(): FormStack {
        const form = new Form(AUTHORIZATION_FORM, 'Authorization settings')
            .addField(new Field(FieldType.TEXT, CLIENT_ID, 'Client Id', undefined, true))
            .addField(new Field(FieldType.TEXT, CLIENT_SECRET, 'Client Secret', undefined, true))
            .addField(new Field(FieldType.TEXT, INSTANCE_NAME, 'Instance Name', undefined, true));

        return new FormStack().addForm(form);
    }

    public isAuthorized(applicationInstall: ApplicationInstall): boolean {
        const authorizationForm = applicationInstall.getSettings()[AUTHORIZATION_FORM];
        return authorizationForm?.[CLIENT_ID]
          && authorizationForm?.[CLIENT_SECRET]
          && authorizationForm?.[INSTANCE_NAME];
    }

    public getAuthUrl(): string {
        return SALES_URL;
    }

    public getTokenUrl(): string {
        return TOKEN_URL;
    }

}
